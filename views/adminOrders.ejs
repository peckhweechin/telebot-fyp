<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>All Orders - TELEBUY</title>
  <link rel="stylesheet" href="/css/adminOrders.css" />
  <link rel="stylesheet" href="/css/desktop.css">

</head>
<body>
  <header>
    <a href="/" class="logo">TELEBUY</a>
    <nav>
      <a href="/admin/addproduct">Add Product</a>
      <a href="/admin/orders">Orders</a>
      <a href="/admin/users">Users</a>
      <a href="/profile">Profile</a>
      <a href="/" onclick="return confirm('Log out?')">Logout</a>
    </nav>
  </header>

  <main>
    <h1>All Customer Orders</h1>

    <% if (orders.length > 0) { %>
      <table>
        <thead>
          <tr>
            <th>Order ID</th>
            <th>Customer Name</th>
            <th>Email</th>
            <th>Product</th>
            <th>Qty</th>
            <th>Price (Each)</th>
            <th>Total ($)</th>
            <th>Payment</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <% orders.forEach(order => { %>
            <tr>
              <td><%= order.order_id %></td>
              <td><%= order.full_name || '-' %></td>
              <td><%= order.email %></td>
              <td><%= order.product_name || '-' %></td>
              <td><%= order.quantity || 0 %></td>
              <td>
                <%= order.price ? '$' + parseFloat(order.price).toFixed(2) : '$0.00' %>
              </td>
              <td>
                <%= order.price && order.quantity ? '$' + (order.price * order.quantity).toFixed(2) : '$0.00' %>
              </td>
              <td><%= order.payment_method %></td>
              <td>
                <%= order.order_date
                  ? new Date(order.order_date).toLocaleString()
                  : '-' %>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } else { %>
      <p style="text-align:center;">No orders found yet.</p>
    <% } %>
  </main>
</body>
</html>
